<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kalkulations-App | Stadler + Schaaf</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 900px;
      margin: 30px auto;
      background: white;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 3px solid #fb5106;
      margin-bottom: 20px;
      padding-bottom: 10px;
      flex-wrap: wrap;
      gap: 10px;
    }

    header img {
      height: auto;
      max-height: 60px;
      width: auto;
      max-width: 200px;
    }

    h2 {
      margin: 0;
      color: #333;
      font-size: 1.4rem;
    }

    .controls {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 15px;
    }

    .control-group {
      flex: 1 1 260px;
      min-width: 200px;
    }

    label {
      display: block;
      font-size: 0.9rem;
      margin-bottom: 4px;
    }

    input[type="text"], input[type="number"], select {
      padding: 7px;
      width: 100%;
      font-size: 14px;
      box-sizing: border-box;
    }

    .btn {
      background: #fb5106;
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 10px 14px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.2s;
      font-size: 15px;
    }
    .btn:hover { background: #e04600; }

    .btn-print {
      background: #54514c;
    }
    .btn-print:hover { background: #333; }

    .btn-small {
      background: #d9534f;
      color: white;
      border: none;
      border-radius: 50%;
      width: 26px;
      height: 26px;
      font-weight: bold;
      font-size: 14px;
      cursor: pointer;
      line-height: 1;
      text-align: center;
      padding: 0;
    }
    .btn-small:hover { background: #c9302c; }

    .row {
      display: grid;
      grid-template-columns: 1fr 80px 40px;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .actions {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .result {
      font-weight: 700;
      margin-top: 15px;
      font-size: 1.1em;
    }

    #printTable {
      display: none;
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    #printTable th, #printTable td {
      border: 1px solid #ccc;
      padding: 6px;
      text-align: left;
    }
    #printTable th {
      background: #fb5106;
      color: white;
    }

    #printHeader {
      display: none;
      margin-bottom: 20px;
      border-bottom: 2px solid #fb5106;
      padding-bottom: 10px;
      position: relative;
    }

    #printHeader h3 {
      margin: 4px 0;
      color: #333;
      font-weight: normal;
    }

    #printHeader img {
      position: absolute;
      top: 0;
      right: 0;
      max-height: 50px;
    }

    #signature {
      display: none;
      margin-top: 50px;
      text-align: left;
    }

    #signature span {
      display: block;
      margin-bottom: 5px;
    }

    #signature .line {
      border-top: 1px solid #000;
      width: 300px;
      margin-top: 0;
    }

    /* üîπ MOBILE */
    @media (max-width: 700px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }
      header img {
        max-width: 150px;
        max-height: 45px;
      }
      .controls {
        flex-direction: column;
        align-items: stretch;
      }
      .actions {
        flex-direction: column;
      }
      .btn {
        width: 100%;
      }
      h2 {
        font-size: 1.2rem;
      }
    }

    /* üîπ DRUCK */
    @media print {
      body {
        background: white;
      }
      /* Eingabefelder, Buttons & Faktor ausblenden */
      button, input, select, label, #factor, #result {
        display: none !important;
      }
      #printHeader, #printTable, #signature, #printSum {
        display: block !important;
      }
      #positions-container, header {
        display: none !important;
      }
      .container {
        box-shadow: none;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <header>
      <h2>Kalkulation nach StLV BASF</h2>
      <img src="https://jobs.stadler-schaaf.de/bilder/stadlerschaaf/symbole/logo.png" alt="Logo Stadler + Schaaf">
    </header>

    <div id="printHeader"></div>

    <div class="controls">
      <div class="control-group">
        <label for="project">Projekt / Kunde:</label>
        <input id="project" type="text" placeholder="Projekt- oder Kundenname">
      </div>
      <div class="control-group">
        <label for="ersteller">Ersteller:</label>
        <input id="ersteller" type="text" placeholder="Name des Erstellers">
      </div>
      <div style="flex: 0 0 auto;">
        <button id="addBtn" class="btn" type="button">+ Position hinzuf√ºgen</button>
      </div>
    </div>

    <div class="control-group" style="margin-bottom: 20px;">
      <label for="factor">Faktor (empfohlen 2,4):</label>
      <input id="factor" type="number" value="2" step="0.1" min="0">
    </div>

    <div id="positions-container"></div>

    <div class="actions">
      <button id="calcBtn" class="btn" type="button">Gesamtsumme berechnen</button>
      <button id="printBtn" class="btn btn-print" type="button">üñ®Ô∏è Drucken / als PDF speichern</button>
    </div>

    <!-- üîπ Diese Zeile wird im Druck NICHT angezeigt -->
    <div id="result" class="result">Gesamtsumme (inkl. Faktor): 0,00 ‚Ç¨</div>

    <table id="printTable">
      <thead>
        <tr>
          <th>Position</th>
          <th>Menge</th>
          <th>Einzelpreis (‚Ç¨)</th>
          <th>Gesamt (‚Ç¨)</th>
        </tr>
      </thead>
      <tbody id="printBody"></tbody>
    </table>

    <div id="printSum" style="display:none; font-weight:bold; margin-top:15px; font-size:1.1rem;"></div>

    <div id="signature">
      <span>Ort, Datum</span>
      <div class="line"></div>
    </div>
  </div>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const materials = [
      { name: "Schutzrohre montieren (bis M63)", price: 3.34 },
        { name: "Schutzrohre demontieren (bis M63)", price: 1.19 },
        { name: "Steigetrasse montieren (H oder U Profil, doppell√§ufig)", price: 9.19 },
        { name: "Steigetrasse demontieren (H oder U Profil, doppell√§ufig)", price: 4.67 },
        { name: "Steigetrasse (Ankerschiene) montieren", price: 7.23},
        { name: "Steigetrasse (Ankerschiene) demontieren", price: 2.80},
        { name: "Steigetrasse (Ankerschiene) demontieren / montieren", price: 4.00},
        { name: "Erdungsleitung an Kabeltr√§ger offen; montieren ", price: 1.96},
        { name: "Gitterrinne montieren", price: 7.74 },
        { name: "Gitterrinne demontieren / montieren", price: 4.99 },
        { name: "Kabelpritsche montieren", price: 8.81 },
        { name: "Kabelpritsche/Kabelrinne Formteil anfertigen", price: 30.10 },
        { name: "Kabelpritsche/Kabelrinne demontieren / montieren", price: 7.41 },
        { name: "Trennsteg montieren", price: 2.36},
        { name: "Weitspanntrasse montieren", price: 12.71 },
        { name: "Weitspanntrasse montieren, Bogen / T-St√ºck", price:10.43},
        { name: "Weitspanntrasse demontieren / montieren", price:8.00},
	{ name: "Kabelverlegesystem (Gitterrinne, Kabelpritsche,-rinne (FE/PVC) u. Weitspanntrasse) demontieren ", price:2.37},
        { name: "FT-Klemme montieren", price: 0.85},
        { name: "FT-Klemme demontieren", price:0.70},
        { name: "Halter bis einschl. 1m montieren", price: 11.59},
        { name: "Halter bis einschl. 5,5m montieren", price: 28.25},
	{ name: "Halter bis einschl. 5,5m ; demontieren ", price:3.12},
	{ name: "Halter bis einschl. 5,5m ; demontieren / montieren ", price:8.01},
	{ name: "Halter - Rundstab; abl√§ngen; 4 mm bis 16 mm ", price:1.54},
	{ name: "Halter - Profil Systeme; montieren", price:4.52},
	{ name: "Halter - Profil Systeme; demontieren ", price:1.49},
	{ name: "Loch (bis max. √ò 30mm und 15mm Tiefe) inklusive Gewinde schneiden; bohren", price:1.23},
	{ name: "Loch (bis max. √ò 30mm); bohren; in Mauerwerk / Beton", price:19.69},
	{ name: "Mehr - Komponenten - D√ºbel montieren ", price:3.12},
	{ name: "PVC Platte schneiden; Zuschnitt bis 10mm stark", price:2.92},
	{ name: "PVC Platte schneiden; Ausschnitt bis 10mm stark", price:16.92},
        { name: "Kabel oder Leitung; montieren; Gewichtsklasse 02", price:1.58},
        { name: "Kabel oder Leitung; montieren; Gewichtsklasse 08", price:2.30},
        { name: "Kabel oder Leitung; montieren; Gewichtsklasse 17", price:3.30},
        { name: "Kabel oder Leitung; montieren; Gewichtsklasse 31", price:4.40},
        { name: "Kabel oder Leitung; montieren; Gewichtsklasse 50", price:5.65},
        { name: "Kabel oder Leitung; montieren; Gewichtsklasse 76", price:7.17},
	{ name: "Kabel oder Leitung; demontieren; Gewichtsklasse 02", price:0.88},
	{ name: "Kabel oder Leitung; demontieren; Gewichtsklasse 08", price:1.33},
	{ name: "Kabel oder Leitung; demontieren; Gewichtsklasse 17", price:1.86},
	{ name: "Kabel oder Leitung; demontieren; Gewichtsklasse 31", price:2.59},
	{ name: "Kabel oder Leitung; demontieren; Gewichtsklasse 50", price:3.62},
	{ name: "Kabel oder Leitung; demontieren; Gewichtsklasse 76", price:4.88},
	{ name: "Kabel oder Leitung; demontieren - montieren / umziehen; Gewichtsklasse 02", price:2.42},
	{ name: "Kabel oder Leitung; demontieren - montieren / umziehen; Gewichtsklasse 08", price:3.30},
	{ name: "Kabel oder Leitung; demontieren - montieren / umziehen; Gewichtsklasse 17", price:4.25},
	{ name: "Kabel oder Leitung; demontieren - montieren / umziehen; Gewichtsklasse 31", price:5.51},
	{ name: "Kabel oder Leitung; demontieren - montieren / umziehen; Gewichtsklasse 50", price:6.93},
	{ name: "Kabel oder Leitung; demontieren - montieren / umziehen; Gewichtsklasse 76", price:8.82},
	{ name: "Kabel oder Leitung; hochbinden; bis einschl. Gewichtsklasse 17", price:0.46},
	{ name: "Kabel oder Leitung; hochbinden; Gewichtsklasse 31 bis79", price:1.91},
	{ name: "Kabel oder Leitung; ablassen / nachrichten; bis einschl. Gewichtsklasse 17", price:0.49},
	{ name: "Kabel oder Leitung; ablassen / nachrichten; Gewichtsklasse 31 bis 79", price:2.26},
	{ name: "Kabel oder Leitung; provisorisch verlegen; Gewichtsklasse 02", price:0.53},
	{ name: "Kabel oder Leitung; provisorisch verlegen; Gewichtsklasse 08", price:0.65},
	{ name: "Kabel oder Leitung; provisorisch verlegen; Gewichtsklasse 17", price:1.26},
	{ name: "Kabel oder Leitung; provisorisch verlegen; Gewichtsklasse 31", price:2.03},
	{ name: "Kabel oder Leitung; provisorisch verlegen; Gewichtsklasse 50", price:3.37},
	{ name: "Kabel oder Leitung; provisorisch verlegen; Gewichtsklasse 76", price:4.41},
	{ name: "Kabel oder Leitung; provisorisch verlegt demontieren/montieren; Gewichtsklasse 02", price:0.83},
	{ name: "Kabel oder Leitung; provisorisch verlegt demontieren/montieren; Gewichtsklasse 08", price:0.95},
	{ name: "Kabel oder Leitung; provisorisch verlegt demontieren/montieren; Gewichtsklasse 17", price:1.63},
	{ name: "Kabel oder Leitung; provisorisch verlegt demontieren/montieren; Gewichtsklasse 31", price:2.54},
	{ name: "Kabel oder Leitung; provisorisch verlegt demontieren/montieren; Gewichtsklasse 50", price:4.11},
	{ name: "Kabel oder Leitung; provisorisch verlegt demontieren/montieren; Gewichtsklasse 76", price:5.39},
	{ name: "Kabel oder Leitung; provisorisch verlegt demontieren; Gewichtsklasse 02", price:0.39},
	{ name: "Kabel oder Leitung; provisorisch verlegt demontieren; Gewichtsklasse 08", price:0.48},
	{ name: "Kabel oder Leitung; provisorisch verlegt demontieren; Gewichtsklasse 17", price:0.89},
	{ name: "Kabel oder Leitung; provisorisch verlegt demontieren; Gewichtsklasse 31", price:1.35},
	{ name: "Kabel oder Leitung; provisorisch verlegt demontieren; Gewichtsklasse 50", price:2.60},
	{ name: "Kabel oder Leitung; provisorisch verlegt demontieren; Gewichtsklasse 76", price:3.41},
	{ name: "Kabel oder Leitung; √ºberschrumpfen; Gewichtsklasse 02", price:3.30},
	{ name: "Kabel oder Leitung; √ºberschrumpfen; Gewichtsklasse 08", price:3.93},
	{ name: "Kabel oder Leitung; √ºberschrumpfen; Gewichtsklasse 17", price:5.04},
	{ name: "Kabel oder Leitung; √ºberschrumpfen; Gewichtsklasse 31", price:8.51},
	{ name: "Kabel oder Leitung; √ºberschrumpfen; Gewichtsklasse 50", price:10.71},
	{ name: "Kabel oder Leitung; √ºberschrumpfen; Gewichtsklasse 76 ", price:11.66},
        { name: "Kabel / Leitung - Anschluss ; anfertigen / montieren; bis 8 Adern bis 2,5mm¬≤", price:6.50},
        { name: "Kabel / Leitung - Anschluss ; anfertigen / montieren; bis 8 Adern bis 2,5mm¬≤", price:15.64},
        { name: "Kabel / Leitung - Anschluss ; anfertigen / montieren; 25 bis 40 Adern bis 2,5mm¬≤", price:29.05},
        { name: "Kabel / Leitung - Anschluss ; anfertigen / montieren; 41 bis 64 Adern bis 2,5mm¬≤", price:52.65},
        { name: "Kabel / Leitung - Anschluss ; anfertigen / montieren; 1 Ader 4mm¬≤ bis 25mm¬≤", price:3.31},
        { name: "Kabel / Leitung - Anschluss ; anfertigen / montieren; 1 Ader 35mm¬≤ bis 50mm¬≤", price:6.22},
        { name: "Kabel / Leitung - Anschluss ; anfertigen / montieren; 1 Ader 70mm¬≤ bis 95mm¬≤", price:9.13},
        { name: "Kabel / Leitung - Anschluss ; anfertigen / montieren; 2 bis 5 Adern 4mm¬≤ bis 25mm¬≤", price:10.86},
        { name: "Kabel / Leitung - Anschluss ; anfertigen / montieren; 2 bis 5 Adern 35mm¬≤ bis 50mm¬≤", price:20.43},
        { name: "Kabel / Leitung - Anschluss ; anfertigen / montieren; 2 bis 5 Adern 70mm¬≤ bis 95mm¬≤", price:31.46},
        { name: "Kabel / Leitung - Anschluss ; anfertigen / montieren; 2 bis 5 Adern 120mm¬≤ bis 150mm¬≤", price:46.60},
        { name: "Kabel / Leitung - Anschluss ; anfertigen / montieren; 2 bis 5 Adern 185mm¬≤ bis 240mm¬≤", price:68.93},
        { name: "Einzelader - Anschluss bis einschl. 25mm¬≤; anfertigen / montieren", price:1.60},
        { name: "Einzelader - Anschluss bis einschl. 25mm¬≤; anklemmen", price:0.28},
        { name: "Einzelader - Anschluss bis einschl. 25mm¬≤; ab- und anklemmen", price:0.51},
        { name: "Einzelader - Anschluss bis einschl. 25mm¬≤; abklemmen", price:0.20},
	{ name: "Einzelader - Anschluss von 35mm¬≤ bis einschl. 95mm¬≤; anfertigen / montieren", price:4.06},
	{ name: "Einzelader - Anschluss von 120mm¬≤ bis einschl. 240mm¬≤; anfertigen / montieren", price:10.12},
	{ name: "Einzelader - Anschluss von 35mm¬≤ bis einschl. 240mm¬≤; anklemmen", price:1.37},
	{ name: "Einzelader - Anschluss von 35mm¬≤ bis einschl. 240mm¬≤; ab- und anklemmen", price:2.42},
	{ name: "Anschluss f√ºr Datenleitung (Patchpanel oder Dose); anfertigen / montieren", price:13.07},
	{ name: "Ader abzwicken", price:0.07},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 3*1,5 - 4 mm¬≤", price:15.43},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 4*1,5 - 4 mm¬≤", price:19.22},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 4*6 mm¬≤", price:23.94},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 5*1,5 - 4 mm¬≤", price:22.99},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 5*6 mm¬≤", price:27.40},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 7*1,5 - 4 mm¬≤", price:26.14},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 24*1,5 mm¬≤", price:72.45},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 4*10 mm¬≤", price:26.46},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 4*16 mm¬≤", price:33.07},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 4*25 mm¬≤", price:37.49},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 5*10 mm¬≤", price:33.39},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 5*16 mm¬≤", price:38.12},
	{ name: "Schrumpf - Muffe komplett (Modul); anfertigen; 61*1,5 mm¬≤", price:165.69},
	{ name: "Anschluss f√ºr Gewebeschlauch; anfertigen / montieren und Schnellverschluss stecken", price:3.32},
	{ name: "Anschluss f√ºr PE - und Teflonrohr (√ò 6mm - 10mm) ; anfertigen / montieren bzw. ab- / anklemmen", price:0.97},
	{ name: "Anschluss f√ºr PE - und Teflonrohr (√ò 6mm - 10mm) oder Gewebeschlauch; abklemmen oder Schnellverschluss ziehen", price:0.32},
	{ name: "Zusatz zu Kabelzug (Schachtplatte); demontieren / montieren", price:6.92},
	{ name: "Zusatz zu Kabelzug (Gitterrost-Steg); demontieren / montieren / abl√§ngen", price:7.45},
	{ name: "Zusatz zu Kabelzug (Bodenplatte); √∂ffnen und schlie√üen ", price:1.46},
	{ name: "Zusatz zu Kabelzug (Deckel von Kabelkanal); √∂ffnen und schlie√üen ", price:0.91},
	{ name: "Zusatz zu Kabelzug (Deckenpaneele / Deckenplatte); √∂ffnen und schlie√üen ", price:1.84},
        { name: "Zusatz zu Kabelzug (Deckenplatte f√ºr Brandschutz) bis 25Kg; √∂ffnen und schlie√üen ", price:3.54},
	{ name: "Anschlussgeh√§use; √∂ffnen und schlie√üen ; durch Schraubtechnik", price:2.97},
	{ name: "Anschlussgeh√§use; √∂ffnen; durch Schraubtechnik", price:1.41},
	{ name: "Anschlussgeh√§use; schlie√üen; durch Schraubtechnik", price:1.84},
	{ name: "Rangierverbindung; anfertigen / montieren; bis 2,5 mm¬≤; bis einschl. 12m L√§nge", price:2.79},
	{ name: "Rangierverbindung; anfertigen / montieren; bis 2,5 mm¬≤; √ºber 12m bis einschl. 25m L√§nge", price:7.24},
	{ name: "Rangierverbindung; anfertigen / montieren; √ºber 2,5 mm¬≤ bis 6 mm¬≤; bis einschl. 3m L√§nge", price:2.58},
	{ name: "Rangierverbindung; demontieren; bis 2,5 mm¬≤", price:0.78},
	{ name: "Rangierverbindung; demontieren; √ºber 2,5 mm¬≤ bis 6 mm¬≤; bis einschl. 3m L√§nge", price:0.63},
	{ name: "Spiralwickelband; anfertigen / montieren ", price:3.15},
	{ name: "Ger√§t oder Bauteil  geschraubt; montieren; <= 2 kg", price:1.97},
	{ name: "Ger√§t oder Bauteil  geschraubt; montieren; > 2 kg <= 5 kg", price:3.39},
	{ name: "Ger√§t oder Bauteil  geschraubt; montieren; > 5 kg <= 25 kg", price:7.91},
	{ name: "Ger√§t oder Bauteil  geschraubt; montieren; > 25 kg <= 50 kg", price:17.73},
	{ name: "Ger√§t oder Bauteil  geschraubt; montieren; > 50kg <= 100 kg", price:32.39},
	{ name: "Ger√§t oder Bauteil  geschraubt; montieren; Luftverteiler 3-fach inkl. Befestigungswinkel ", price:5.91},
	{ name: "Ger√§t oder Bauteil  geschraubt; montieren; Luftverteiler 8-fach inkl. Befestigungswinkel ", price:7.33},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren; <= 2 kg", price:1.02},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren; > 2 kg <= 5 kg", price:2.24},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren; > 5 kg <= 25 kg", price:5.97},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren; > 25 kg <= 50 kg", price:14.11},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren; > 50kg <= 100 kg", price:25.02},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren; Luftverteiler 3-fach inkl. Befestigungswinkel ", price:1.02},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren; Luftverteiler 8-fach inkl. Befestigungswinkel ", price:2.24},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren / montieren; <= 2 kg", price:2.30},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren / montieren; > 2 kg <= 5 kg", price:3.60},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren / montieren; > 5 kg <= 25 kg", price:8.02},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren / montieren; > 25 kg <= 50 kg", price:12.85},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren / montieren; > 50kg <= 100 kg", price:20.78},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren / montieren; Luftverteiler 3-fach inkl. Befestigungswinkel ", price:2.30},
	{ name: "Ger√§t oder Bauteil  geschraubt; demontieren / montieren; Luftverteiler 8-fach inkl. Befestigungswinkel ", price:3.60},
	{ name: "Ger√§t oder Bauteil  gesteckt; montieren; <= 2 kg", price:0.40},
	{ name: "Ger√§t oder Bauteil  gesteckt; demontieren; <= 2 kg", price:0.30},
	{ name: "Ger√§t oder Bauteil  gesteckt; demontieren / montieren; <= 2 kg", price:0.57},
	{ name: "Schwenktaster ( mit / ohne Amperemeter); montieren", price:11.00},
	{ name: "√úberstromrelais; auswechseln; bis 60A", price:4.90},
	{ name: "Verschraubung ; montieren oder demontieren / montieren; M12 - M63", price:0.54},
	{ name: "Verschraubung ; demontieren; M12 - M63", price:0.43},
	{ name: "Leuchte (Abh√§ngung); montieren", price:4.07},
	{ name: "Leuchte (Abh√§ngung); demontieren", price:0.50},
	{ name: "Leuchte; montieren oder demontieren / montieren", price:12.44},
	{ name: "Leuchte; demontieren", price:6.92},
	{ name: "Leuchtenst√§nder; montieren", price:33.39},
	{ name: "Leuchtenst√§nder; demontieren", price:21.35},
	{ name: "Leuchtmittel; auswechseln", price:3.98},
	{ name: "Br√ºstungskanal ohne Deckel; montieren", price:7.31},
	{ name: "Br√ºstungskanal ohne Deckel; demontieren / montieren ", price:6.98},
	{ name: "Br√ºstungskanal mit Deckel; demontieren", price:4.18},
	{ name: "Deckel f√ºr Br√ºstungskanal; montieren", price:2.11},
	{ name: "Leitungsf√ºhrungskanal mit Deckel ( bis 130mm); montieren", price:5.02},
	{ name: "Leitungsf√ºhrungskanal mit Deckel ( bis 130mm); demontieren", price:1.16},
	{ name: "Leitungsf√ºhrungskanal mit Deckel ( bis 130mm); demontieren / montieren", price:2.93},
	{ name: "Ger√§teeinbaudose; montieren", price:0.61},
	{ name: "Schalter oder Steckdose (UP oder Kanaleinbau); montieren", price:1.94},
	{ name: "Schalter oder Steckdose (UP oder Kanaleinbau); demontieren", price:1.45},
	{ name: "Loch- und Hohlraumdose; bohren / montieren; bis 70 mm", price:4.48},
	{ name: "Bezeichnungsschild; montieren; bis 30 Zeichen", price:2.10},
	{ name: "RF-ID Tag (Techn.AP oder Equipm.); montieren", price:5.02},
	{ name: "RF-ID Tag (Techn.AP oder Equipm.) vor Ort vorhanden; auslesen, Dokumentation", price:3.15},
	{ name: "Bezeichnungsschild Fa. Patrax; montieren", price:1.00},
	{ name: "Bezeichnungsschild und Schildtr√§ger ; demontieren", price:0.28},
	{ name: "Bezeichnungsschild und Schildtr√§ger ; bezeichnen / montieren", price:0.63},
	{ name: "Klemmblock; montieren", price:0.38},
	{ name: "Klemmblock; demontieren", price:0.28},
	{ name: "Kunststoffverbindungsst√ºck (auf 2 Klemmen); montieren", price:0.38},
	{ name: "Kunststoffverbindungsst√ºck (auf 2 Klemmen); demontieren", price:0.25},
	{ name: "Reihenklemme geschraubt, Metallklemmrechen, Phasen / N-Schienen, Einlegebr√ºcke, Endhalter; montieren", price:0.26},
	{ name: "Reihenklemme geschraubt, Metallklemmrechen, Phasen / N-Schienen, Einlegebr√ºcke und Kunststoffschutz, Endhalter; demontieren", price:0.10},
	{ name: "Gesteckter Verdrahtungskamm; abl√§ngen / montieren", price:0.57},
	{ name: "Gesteckter Verdrahtungskamm; demontieren", price:0.28},
	{ name: "Reihenklemme gesteckt; bezeichnen und montieren", price:0.13},
	{ name: "Reihenklemme ; demontieren", price:0.07},
	{ name: "Verteilung und Schrank - best√ºckt -; stellen / ausrichten", price:16.03},
	{ name: "Verteilung und Schrank; demontieren", price:12.41},
	{ name: "Verteilung und Schrank - Schild -; aufkleben", price:0.95},
	{ name: "Verteilung und Schrank - Stromkreisbelegungstafel komplett -; aufkleben / montieren", price:12.13},
	{ name: "Bodenplatten; montieren; ohne Zuschnitt durch Kontraktor", price:3.02},
	{ name: "Bodenplatten; demontieren", price:3.72},
	{ name: "Bodenplatten; zuschneiden / einpassen / montieren; bei vorhandenem Boden", price:3.94},
	{ name: "Bodenplatten; zuschneiden / montieren", price:8.84},
	{ name: "Bodenplatten- Ausschnitt; anfertigen", price:3.47},
	{ name: "Hebeh√ºlse (Bodenplatte); montieren", price:3.05},
	{ name: "Ger√§te / Verl√§ngerungsleitung; pr√ºfen; 230V", price:2.50},
	{ name: "Ger√§te / Verl√§ngerungsleitung; pr√ºfen; 400V", price:2.89},
	{ name: "Steckerleiste ; pr√ºfen; 230V", price:3.04},
	{ name: "Steckdose (B√ºro,Labor oder Werkstatt); pr√ºfen; 230V 16A", price:1.01},
	{ name: "Steckdose  (Betrieb); pr√ºfen; 230V   16A", price:1.64},
	{ name: "Steckdose (B√ºro, Betrieb, Labor oder Werkstatt); pr√ºfen; 400V   16A bis einschl. 63A", price:2.27},
	{ name: "Not- oder Sicherheitsbeleuchtung; pr√ºfen; Leuchte", price:1.99},
	{ name: "Not- oder Sicherheitsbeleuchtung; pr√ºfen; zentrale Funktionsanzeigen", price:2.12},
	{ name: "Absperrorgan; aufdrehen oder zudrehen", price:1.89},
	{ name: "Stromkreis (M+R Steuergestell, Unterverteiler, usw.); abschalten oder zuschalten", price:1.70},
	{ name: "Stromkreis; abschalten oder zuschalten", price:3.62},
	{ name: "Stromkreis; pr√ºfen", price:20.00},
	{ name: "Isolation; pr√ºfen", price:15.00},
	{ name: "Motorstromkreis; pr√ºfen", price:30.00},
	{ name: "Linkmessung Kat.5 / 6 / 7; durchf√ºhren", price:6.25},
	{ name: "Brandmeldeanlage oder Meldelinie (Initialmeldung durchf√ºhren); abschalten oder zuschalten", price:2.92},
	{ name: "Sicherheitsschalter; Wiederholungspr√ºfung", price:22.50},
	{ name: "Baustromverteilung; pr√ºfen; Erst - Baustromverteilung", price:7.25},
	{ name: "Baustromverteilung; pr√ºfen; jede weitere Baustromverteilung", price:3.15},
	{ name: "Bestimmung erster Koordinatenblock; ausmessen und bestimmen; f√ºr Montage nach Koordinaten", price:14.50},
	{ name: "Bestimmung weiterer Koordinatenblock; ausmessen und bestimmen; f√ºr Montage nach Koordinaten", price:4.50},
	{ name: "Bestimmung weiterer Koordinatenblock; ausmessen und bestimmen; f√ºr Koordinaten Ermittlung von IST Zustand", price:15.00},
	{ name: "Bestimmung weiterer Koordinatenblock; ausmessen und bestimmen; f√ºr Koordinaten Ermittlung von IST Zustand", price:5.00},
	{ name: "PLT Stellen Pr√ºfung (Loop Check); pr√ºfen; mit Pr√ºfplatz", price:90.00},
	{ name: "PLT Stellen Pr√ºfung (Loop Check); Wiederholungspr√ºfung; mit Pr√ºfplatz", price:45.00},
        { name: "K√∂rperschutzmittel (CSA Typ 3 oder 4, mit Hilfe von 2. Mann)", price: 7.17 },
        // Weitere Positionen k√∂nnen hier hinzugef√ºgt werden
    ];


    const container = document.getElementById("positions-container");
    const resultEl = document.getElementById("result");
    const printHeader = document.getElementById("printHeader");
    const printBody = document.getElementById("printBody");
    const printSum = document.getElementById("printSum");

    function addPosition() {
      const row = document.createElement("div");
      row.className = "row";

      const select = document.createElement("select");
      materials.forEach(m => {
        const opt = document.createElement("option");
        opt.value = m.price;
        opt.textContent = `${m.name} ‚Äî ${m.price.toFixed(2)} ‚Ç¨`;
        select.appendChild(opt);
      });

      const qty = document.createElement("input");
      qty.type = "number";
      qty.min = "0";
      qty.step = "1";
      qty.value = "1";

      const del = document.createElement("button");
      del.textContent = "‚úï";
      del.className = "btn-small";
      del.onclick = () => { row.remove(); updateTotal(); };

      row.append(select, qty, del);
      container.appendChild(row);

      select.addEventListener("change", updateTotal);
      qty.addEventListener("input", updateTotal);
      updateTotal();
    }

    function updateTotal() {
      const factor = parseFloat(document.getElementById("factor").value) || 1;
      let total = 0;
      printBody.innerHTML = "";

      container.querySelectorAll(".row").forEach(r => {
        const select = r.querySelector("select");
        const qty = parseFloat(r.querySelector("input").value) || 0;
        const price = parseFloat(select.value) || 0;
        const name = select.options[select.selectedIndex].text.split(" ‚Äî ")[0];
        const subtotal = price * qty * factor;
        total += subtotal;

        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${name}</td>
          <td>${qty}</td>
          <td>${price.toFixed(2)}</td>
          <td>${subtotal.toFixed(2)}</td>
        `;
        printBody.appendChild(tr);
      });

      resultEl.textContent = "Gesamtsumme (inkl. Faktor): " + total.toFixed(2) + " ‚Ç¨";
      printSum.textContent = "Gesamtsumme: " + total.toFixed(2) + " ‚Ç¨";
    }

    function updatePrintHeader() {
      const project = document.getElementById("project").value || "-";
      const ersteller = document.getElementById("ersteller").value || "-";
      const datum = new Date().toLocaleDateString("de-DE");

      printHeader.innerHTML = `
        <div style="position: relative;">
          <h3>Projekt / Kunde: ${project}</h3>
          <h3>Ersteller: ${ersteller}</h3>
          <h3>Datum: ${datum}</h3>
          <img src="https://jobs.stadler-schaaf.de/bilder/stadlerschaaf/symbole/logo.png" alt="Logo">
        </div>
      `;
    }

    document.getElementById("addBtn").onclick = addPosition;
    document.getElementById("calcBtn").onclick = updateTotal;
    document.getElementById("factor").oninput = updateTotal;
    document.getElementById("printBtn").onclick = () => {
      updateTotal();
      updatePrintHeader();
      printSum.style.display = "block";
      window.print();
      printSum.style.display = "none";
    };

    addPosition();
  });
  </script>
</body>
</html>